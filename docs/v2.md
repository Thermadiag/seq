


Notes on version 2 of seq library
---------------------------------

The version 2 of `seq` introduced several changes on all modules, which are listed below.

Library wide changes
--------------------

-	The biggest change is the library requirement which was upgraded to C++17. Indeed, working with C++14 was painfull and all compilers I now work with support at least C++17.
-	Another big change is the full removal of the `cvector` class (compressed vector-like container). Indeed, `cvector` relied on a compression algorithm that was heavily refactored and upgraded, up to the point where it did not belong to a library about containers...
	Therefore, the compression algorithm and the `cvector` class were moved to a new open source project called <a href="https://github.com/Thermadiag/stenos">stenos</a>.
-	The library is now header-only library thanks to the removal of `cvector` class.
-	[Pdqsort](https://github.com/orlp/pdqsort) is not used anymore within the library. Instead the `net_sort` algorithm (from [algorithm](algorithm.md) module) is used everywhere.
-	The `memory` module (deprecated in v1.3) was removed.

[bits](bits.md)
--------------------

-	Internal refactoring.
-	Updated SEQ_LIKELY/SEQ_UNLIKELY to use c++20 [[likely]]/[[unlikely]] attributes if available.
-	Added class `fast_rand`: fasd 32 bits random number generator.

[hash](hash.md)
--------------------

-	Internal refactoring.
-	Moved implementation which was in `hash.cpp` to `hash_impl.hpp`


[charconv](charconv.md)
----------------------------

-	Internal refactoring
-	Removed file `charconv.cpp`
-	All functions to read/write integral/floating numbers are now template, and work on any character type instead of just `char`.

[format](format.md)
------------------------

-	Full refactoring of the module.
-	All functions now work with any character type including `wchar_t`, `char16_t`, `char32_t` and `char8_t` (if available).

[any](any.md)
------------------

-	Minor refactoring to simplify the code.
-	Now relies on seq::hasher instead of std::hash.

[containers](containers.md)
--------------------------------

-	Sequential random-access containers: 
	-	[seq::devector](devector.md):
		-	Minor refactoring.
		-	Corrected a memory leak in shrink_to_fit().
		-	Updated the internal strategy when growing from front or back: the data are not anymore moved in the middle of the array in case of front/back growing.
		This allows to get rid of the last template parameter `DEVectorFlag`. devector now behaves almost exactly like the QVector class.
	-	[seq::tiered_vector](tiered_vector.md): 
		-	Minor refactoring and optimizatoins.
		-	Update of the iterator class which was not detected as random access by c++20 concept random_access_iterator.
-	Sequential stable non random-access container: `seq::sequence`: minor refactoring. Switched from pdqsort to net_sort as sorting algorithm.
-	Sorted containers: 
	-	[seq::flat_set](flat_set.md), `seq::flat_map`, `seq::flat_multiset`, `seq::flat_multimap`: 
		-	Internal refactoring and optimizations, huge code simplification.
		-	Better support of transparent comparison functions.
		-	Switched from pdqsort to net_sort as sorting algorithm.
		-	Added C++23 members extract() and replace()
	-	[seq::radix_set](radix_tree.md) and `seq::radix_map`:
		- Full refactoring to simplify the class.
		- It now supports any kind of key that has `data()` and `size()` members (all string classes, std::vector, std::array...)
		- The tree is now rebalanced when erasing keys in order to reduce its memory footprint.
-	Hash tables: 
	-	[seq::ordered_set](ordered_set.md) and `seq::ordered_map`: minor refactoring
	-	[seq::radix_hash_set](radix_tree.md) and `seq::radix_hash_map`: 
		-	Same huge refactoring as [seq::radix_set](radix_tree.md).
		-	Better handling of transparent hash/comparison functions.
	-	[seq::concurrent_map](concurrent_map.md) and `seq::concurrent_set`:
		-	Internal refactoring and optimizations.
		-	Added mechanisms to avoid busy wait on shard rehash. This increases performances on insert operations.
-	Strings:
	-	[seq::tiny_string](tiny_string.md): minor changes in the `find_*` functions. Most of them now use std::basic_string_view.
	-	Added several type traits to help detect string types and character types.
	

[algorithm](algorithm.md)
-------------------------

New module, provides several iterator based algorithms including the `net_sort` sorting one.



